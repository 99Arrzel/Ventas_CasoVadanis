"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[156,740],{3740:(e,t,o)=>{o.r(t),o.d(t,{default:()=>p});var a=o(6598),n={class:"relative min-h-screen"},r={class:"flex flex-wrap items-center justify-between w-full py-4 lg:py-0 px-4 text-lg text-gray-700 bg-gray-600"},l={class:"flex"},d=[(0,a.createElementVNode)("img",{src:"/img/VanadisOK.png",class:"object-contain h-20",alt:"Logo"},null,-1)],i=[(0,a.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)],c={class:"pt-2 text-base text-gray-700 lg:flex lg:justify-between lg:pt-0"};var u=o(9680);const s={components:{SplitButton:o(7712).Z},setup:function(){return{menuOptions:(0,a.reactive)({show:!0}),irA:function(e){u.Inertia.visit(route(e))},direcciones:[{label:"Usuarios",command:function(){u.Inertia.visit(route("usuarios"))}},{label:"Ventas",command:function(){u.Inertia.visit(route("ventas"))}},{label:"Productos",command:function(){u.Inertia.visit(route("productos"))}},{label:"Categorias",command:function(){u.Inertia.visit(route("categorias"))}},{label:"Proveedores",command:function(){u.Inertia.visit(route("proveedores"))}},{label:"Transacciones",command:function(){u.Inertia.visit(route("transacciones"))}}]}}};const p=(0,o(3744).Z)(s,[["render",function(e,t,o,u,s,p){var m=(0,a.resolveComponent)("SplitButton");return(0,a.openBlock)(),(0,a.createElementBlock)("main",n,[(0,a.createElementVNode)("header",null,[(0,a.createElementVNode)("nav",r,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("a",{onClick:t[0]||(t[0]=function(e){return u.irA("dashboard")}),class:"text-white text-4xl"},d)]),((0,a.openBlock)(),(0,a.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",id:"menu-button",onClick:t[1]||(t[1]=function(e){return u.menuOptions.show=!u.menuOptions.show}),class:"h-6 w-6 cursor-pointer lg:hidden block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},i)),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)("w-full lg:flex lg:items-center lg:w-auto"+(u.menuOptions.show?" hidden":"")),id:"menu"},[(0,a.createElementVNode)("ul",c,[(0,a.createElementVNode)("li",null,[(0,a.createVNode)(m,{label:"Dashboard",model:u.direcciones,class:"p-button-md p-button-text mt-1.5"},null,8,["model"])]),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{class:"ml-6 text-white hover:text-red-600 mr-4 lg:p-4 py-2 block",onClick:t[2]||(t[2]=function(e){return u.irA("dashboard")})},"Estadísticas")]),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{class:"ml-6 text-white hover:text-red-600 mr-4 lg:p-4 py-2 block",onClick:t[3]||(t[3]=function(e){return u.irA("dashboard")})},"Reportes")]),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{class:"ml-6 text-white hover:text-red-600 mr-4 lg:p-4 py-2 block",onClick:t[4]||(t[4]=function(e){return u.irA("logout")})},"Cerrar sesión")])])],2)])]),(0,a.createElementVNode)("article",null,[(0,a.renderSlot)(e.$slots,"default")])])}]])},1170:(e,t,o)=>{o.r(t),o.d(t,{default:()=>H});var a=o(6598),n={class:"mx-2 sm:mx-4 mt-2 pb-12"},r=(0,a.createElementVNode)("p",{class:"text-center text-white text-2xl"},"Productos",-1),l={class:"sm:w-fit w-full"},d=(0,a.createElementVNode)("p",null,"Nombre*",-1),i={class:"sm:w-fit w-full"},c=(0,a.createElementVNode)("p",null,"Precio*",-1),u={class:"sm:w-fit w-full"},s=(0,a.createElementVNode)("p",null,"Descuento*",-1),p={class:"sm:w-fit w-full"},m=(0,a.createElementVNode)("p",null,"Cantidad*",-1),f={class:"sm:w-fit w-full"},V=(0,a.createElementVNode)("p",null,"Descripción*",-1),w={class:"sm:w-fit w-full"},x=(0,a.createElementVNode)("p",null,"Fecha expiración*",-1),h={class:"sm:w-fit w-full"},b=(0,a.createElementVNode)("p",null,"Categoria*",-1),y={class:"sm:w-fit w-full"},v=(0,a.createElementVNode)("p",null,"Marca*",-1),g={class:"sm:w-fit w-full"},N=(0,a.createElementVNode)("p",null,"Detalle*",-1),E={class:"flex"},_=(0,a.createElementVNode)("button",{class:"text-white rounded-tr-lg rounded-br-lg p-2 bg-green-500"}," Crear ",-1),C={class:"sm:w-fit w-full"},D=(0,a.createElementVNode)("p",{class:"text-center"},"Buscar",-1),P=(0,a.createTextVNode)(" Sin productos "),U={class:"bg-sky-500 px-2 rounded-lg"};var S=o(3740),O=o(9680),k=o(922),j=o(5247),R=o(6076),I=o(7484),B=o.n(I),M=o(2262),A=o(6635),T=o(8223),L=o(6252),Z=o(1533),q=o(6358);function G(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function F(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?G(Object(o),!0).forEach((function(t){Y(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):G(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const z={components:{Calendar:T.Z,DataTable:k.Z,Column:j.Z,InputText:R.Z,Dropdown:A.Z},layout:S.default,props:{usuario:{type:Object,required:!0},productos:{type:Array,required:!0},marcas:{type:Array,required:!0},detalles:{type:Array,required:!0},categorias:{type:Array,required:!0}},setup:function(e){var t=(0,M.iH)({global:{value:null,matchMode:q.a6.CONTAINS}}),o=(0,M.qj)({nombre:"",precio:"",descuento:"",cantidad:"",descripcion:"",fecha_expiracion:"",categoria:"",marca:"",detalle:""}),a=(0,L.Fl)((function(){return e.productos.map((function(e){return F(F({},e),{},{fecha_expiracion_c:new Date(e.fecha_expiracion)})}))})),n=(0,M.qj)({expandido:[],editRow:[]});return{filters:t,crearProducto:function(){O.Inertia.post(route("productos_create"),{nombre:o.nombre,precio:o.precio,descuento:o.descuento,cantidad:o.cantidad,descripcion:o.descripcion,fecha_expiracion:o.fecha_expiracion,id_categoria:o.categoria.id,id_marca:o.marca.id,id_detalle:o.detalle.id},{preserveState:!0,preserveScroll:!0,onSuccess:function(){o.nombre="",o.precio="",o.descuento="",o.cantidad="",o.descripcion="",o.fecha_expiracion="",o.categoria="",o.marca="",o.detalle="",Z.Notify.success("Producto creado correctamente")},onError:function(e){for(var t in e)Z.Notify.failure(e[t])}})},nuevoProducto:o,productos_c:a,editarProducto:function(e){console.log(e),O.Inertia.post(route("productos_update"),{id:e.newData.id,nombre:e.newData.nombre,precio:e.newData.precio,descuento:e.newData.descuento,cantidad:e.newData.cantidad,descripcion:e.newData.descripcion,fecha_expiracion:e.newData.fecha_expiracion_c,id_categoria:e.newData.categoria.id,id_marca:e.newData.marca.id,id_detalle:e.newData.detalle.id},{preserveState:!0,preserveScroll:!0,onSuccess:function(){Z.Notify.success("Producto editado correctamente")},onError:function(e){for(var t in e)Z.Notify.failure(e[t])}})},log:function(e,t){console.log(e),console.log(t)},getDate:function(e){var t=B()(e).format("DD/MM/YYYY");return"Invalid Date"!=t?t:""},data:n}}};const H=(0,o(3744).Z)(z,[["render",function(e,t,o,S,O,k){var j=(0,a.resolveComponent)("InputText"),R=(0,a.resolveComponent)("Calendar"),I=(0,a.resolveComponent)("Dropdown"),B=(0,a.resolveComponent)("Column"),M=(0,a.resolveComponent)("DataTable");return(0,a.openBlock)(),(0,a.createElementBlock)("div",n,[r,(0,a.createVNode)(M,{value:S.productos_c,rowGroupMode:"subheader",groupRowsBy:"id_grupo_producto",sortMode:"single",expandableRowGroups:!0,expandedRowGroups:S.data.expandido,"onUpdate:expandedRowGroups":t[11]||(t[11]=function(e){return S.data.expandido=e}),responsiveLayout:"scroll",sortField:"id_grupo_producto",sortOrder:1,class:"p-datatable-sm",filters:S.filters,"onUpdate:filters":t[12]||(t[12]=function(e){return S.filters=e}),editMode:"row",editingRows:S.data.editRow,"onUpdate:editingRows":t[13]||(t[13]=function(e){return S.data.editRow=e}),onRowEditSave:S.editarProducto,showGridlines:""},{header:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("form",{onSubmit:t[10]||(t[10]=(0,a.withModifiers)((function(){return S.crearProducto&&S.crearProducto.apply(S,arguments)}),["prevent"])),class:"flex flex-wrap gap-2 justify-center"},[(0,a.createElementVNode)("div",l,[d,(0,a.createVNode)(j,{class:"w-full",modelValue:S.nuevoProducto.nombre,"onUpdate:modelValue":t[0]||(t[0]=function(e){return S.nuevoProducto.nombre=e}),type:"text"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",i,[c,(0,a.createVNode)(j,{min:"0",type:"number",class:"w-full",modelValue:S.nuevoProducto.precio,"onUpdate:modelValue":t[1]||(t[1]=function(e){return S.nuevoProducto.precio=e})},null,8,["modelValue"])]),(0,a.createElementVNode)("div",u,[s,(0,a.createVNode)(j,{min:"0",max:"100",type:"number",class:"w-full",modelValue:S.nuevoProducto.descuento,"onUpdate:modelValue":t[2]||(t[2]=function(e){return S.nuevoProducto.descuento=e})},null,8,["modelValue"])]),(0,a.createElementVNode)("div",p,[m,(0,a.createVNode)(j,{min:"0",type:"number",class:"w-full",modelValue:S.nuevoProducto.cantidad,"onUpdate:modelValue":t[3]||(t[3]=function(e){return S.nuevoProducto.cantidad=e})},null,8,["modelValue"])]),(0,a.createElementVNode)("div",f,[V,(0,a.createVNode)(j,{class:"w-full",type:"text",modelValue:S.nuevoProducto.descripcion,"onUpdate:modelValue":t[4]||(t[4]=function(e){return S.nuevoProducto.descripcion=e})},null,8,["modelValue"])]),(0,a.createElementVNode)("div",w,[x,(0,a.createVNode)(R,{placeholder:"dd/mm/aaaa",format:"dd/mm/yyyy",class:"w-full",modelValue:S.nuevoProducto.fecha_expiracion,"onUpdate:modelValue":t[5]||(t[5]=function(e){return S.nuevoProducto.fecha_expiracion=e})},null,8,["modelValue"])]),(0,a.createElementVNode)("div",h,[b,(0,a.createVNode)(I,{filter:!0,options:o.categorias,optionLabel:"nombre",class:"w-full",modelValue:S.nuevoProducto.categoria,"onUpdate:modelValue":t[6]||(t[6]=function(e){return S.nuevoProducto.categoria=e})},null,8,["options","modelValue"])]),(0,a.createElementVNode)("div",y,[v,(0,a.createVNode)(I,{filter:!0,options:o.marcas,optionLabel:"nombre",class:"w-full",modelValue:S.nuevoProducto.marca,"onUpdate:modelValue":t[7]||(t[7]=function(e){return S.nuevoProducto.marca=e})},null,8,["options","modelValue"])]),(0,a.createElementVNode)("div",g,[N,(0,a.createElementVNode)("div",E,[(0,a.createVNode)(I,{filter:!0,options:o.detalles,optionLabel:"nombre",class:"w-full",modelValue:S.nuevoProducto.detalle,"onUpdate:modelValue":t[8]||(t[8]=function(e){return S.nuevoProducto.detalle=e})},{option:(0,a.withCtx)((function(e){return[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)("".concat(e.option.nombre,"[").concat(e.option.cantidad," - ").concat(S.getDate(e.option.transaccion.fecha),"]")),1)]})),_:1},8,["options","modelValue"]),_])]),(0,a.createElementVNode)("div",C,[D,(0,a.createVNode)(j,{modelValue:S.filters.global.value,"onUpdate:modelValue":t[9]||(t[9]=function(e){return S.filters.global.value=e}),class:"w-full",placeholder:"Buscar..."},null,8,["modelValue"])])],32)]})),empty:(0,a.withCtx)((function(){return[P]})),groupheader:(0,a.withCtx)((function(e){return[(0,a.createElementVNode)("span",U,(0,a.toDisplayString)("".concat(e.data.nombre," ").concat(e.data.marca.nombre)),1)]})),default:(0,a.withCtx)((function(){return[(0,a.createVNode)(B,{field:"id_grupo_producto",header:"Productos"}),(0,a.createVNode)(B,{field:"nombre",header:"Nombre",style:{"min-width":"150px"}},{editor:(0,a.withCtx)((function(e){var t=e.data,o=e.field;return[(0,a.createVNode)(j,{modelValue:t[o],"onUpdate:modelValue":function(e){return t[o]=e},style:{"max-width":"150px"},type:"text"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.createVNode)(B,{field:"precio",header:"Precio",style:{"min-width":"100px"}},{editor:(0,a.withCtx)((function(e){var t=e.data,o=e.field;return[(0,a.createVNode)(j,{style:{"max-width":"100px"},modelValue:t[o],"onUpdate:modelValue":function(e){return t[o]=e},type:"number",min:"0"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.createVNode)(B,{field:"descuento",header:"Descuento",style:{"min-width":"100px"}},{body:(0,a.withCtx)((function(e){return[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.data.descuento)+"%",1)]})),editor:(0,a.withCtx)((function(e){var t=e.data,o=e.field;return[(0,a.createVNode)(j,{modelValue:t[o],"onUpdate:modelValue":function(e){return t[o]=e},style:{"max-width":"100px"},type:"number",min:"0"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.createVNode)(B,{field:"cantidad",header:"Cantidad",style:{"min-width":"100px"}},{editor:(0,a.withCtx)((function(e){var t=e.data,o=e.field;return[(0,a.createVNode)(j,{modelValue:t[o],"onUpdate:modelValue":function(e){return t[o]=e},class:"w-fit",style:{"max-width":"100px"},type:"number",min:"0"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.createVNode)(B,{field:"descripcion",header:"Descripción",style:{"min-width":"200px"}},{editor:(0,a.withCtx)((function(e){var t=e.data,o=e.field;return[(0,a.createVNode)(j,{style:{"max-width":"200px"},modelValue:t[o],"onUpdate:modelValue":function(e){return t[o]=e},type:"text"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.createVNode)(B,{field:"fecha_expiracion",header:"Fecha de expiración",style:{"min-width":"100px"}},{body:(0,a.withCtx)((function(e){return[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(""!=S.getDate(e.data.fecha_expiracion)?S.getDate(e.data.fecha_expiracion):"-"),1)]})),editor:(0,a.withCtx)((function(e){var t=e.data;return[(0,a.createVNode)(R,{style:{"max-width":"150px"},modelValue:t.fecha_expiracion_c,"onUpdate:modelValue":function(e){return t.fecha_expiracion_c=e},type:"text"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.createVNode)(B,{field:"marca",header:"Marca",style:{"min-width":"200px"}},{body:(0,a.withCtx)((function(e){return[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.data.marca.nombre),1)]})),editor:(0,a.withCtx)((function(e){var t=e.data,n=e.field;return[(0,a.createVNode)(I,{filter:!0,options:o.marcas,optionLabel:"nombre",style:{"max-width":"150px"},modelValue:t[n],"onUpdate:modelValue":function(e){return t[n]=e},type:"text"},null,8,["options","modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.createVNode)(B,{field:"categoria",header:"Categoria",style:{"min-width":"200px"}},{body:(0,a.withCtx)((function(e){return[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.data.categoria.nombre),1)]})),editor:(0,a.withCtx)((function(e){var t=e.data,n=e.field;return[(0,a.createVNode)(I,{filter:!0,options:o.categorias,optionLabel:"nombre",style:{"max-width":"150px"},modelValue:t[n],"onUpdate:modelValue":function(e){return t[n]=e},type:"text"},null,8,["options","modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.createVNode)(B,{field:"detalle",header:"Detalle Transacción",style:{"min-width":"200px"}},{body:(0,a.withCtx)((function(e){return[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)("".concat(e.data.detalle.nombre," [").concat(e.data.detalle.cantidad," - ").concat(S.getDate(e.data.detalle.transaccion.fecha),"]")),1)]})),editor:(0,a.withCtx)((function(e){var t=e.data,n=e.field;return[(0,a.createVNode)(I,{filter:!0,options:o.detalles,optionLabel:"nombre",style:{"max-width":"150px"},modelValue:t[n],"onUpdate:modelValue":function(e){return t[n]=e}},{option:(0,a.withCtx)((function(e){return[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)("".concat(e.option.nombre,"[").concat(e.option.cantidad," - ").concat(S.getDate(e.option.transaccion.fecha),"]")),1)]})),_:2},1032,["options","modelValue","onUpdate:modelValue"])]})),_:1}),(0,a.createVNode)(B,{field:"deleted_at",header:"Estado",style:{"min-width":"200px"}},{body:(0,a.withCtx)((function(e){return[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["w-fit rounded-lg px-2",null==e.data.deleted_at?"bg-green-500":"bg-red-500"])},(0,a.toDisplayString)(null==e.data.deleted_at?"Actual":"Historico desde "+S.getDate(e.data.deleted_at)),3)]})),_:1}),(0,a.createVNode)(B,{field:"created_at",header:"Fecha de creación",style:{"min-width":"100px"}},{body:(0,a.withCtx)((function(e){return[(0,a.createTextVNode)((0,a.toDisplayString)(S.getDate(e.data.created_at)),1)]})),_:1}),(0,a.createVNode)(B,{rowEditor:!0,style:{width:"10%","min-width":"8rem"},bodyStyle:"text-align:center",header:"Editar"})]})),_:1},8,["value","expandedRowGroups","filters","editingRows","onRowEditSave"])])}]])}}]);